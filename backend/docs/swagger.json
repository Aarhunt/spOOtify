{
    "swagger": "2.0",
    "info": {
        "description": "This is a sample server celler server.",
        "title": "Swagger Example API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "url": "http://www.swagger.io/support",
            "email": "support@swagger.io"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "paths": {
        "/auth/status": {
            "get": {
                "description": "Returns true if the backend has a valid Spotify connection.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Check authentication status",
                "responses": {
                    "200": {
                        "description": "authenticated: true",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    }
                }
            }
        },
        "/auth/url": {
            "get": {
                "description": "Returns the URL the user needs to visit to authorize the app on Spotify.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Get Spotify Authorization URL",
                "responses": {
                    "200": {
                        "description": "url: https://accounts.spotify.com/...",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist": {
            "get": {
                "description": "Responds with the list of all playlists as JSON.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Get all playlists",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.PlaylistResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new playlist locally and on Spotify",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Create new playlist",
                "parameters": [
                    {
                        "description": "Playlist name",
                        "name": "playlist",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/gin.H"
                        }
                    }
                }
            },
            "delete": {
                "description": "Deletes every playlist record in the database",
                "tags": [
                    "playlist"
                ],
                "summary": "Clear all playlists",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/include": {
            "post": {
                "description": "Includes one playlist inside another parent playlist",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Nest a Playlist",
                "parameters": [
                    {
                        "description": "Playlist Linking Details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemPlaylistRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/include/undo": {
            "post": {
                "description": "Undoes inclusion of one playlist inside another parent playlist",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Undo a nested Playlist",
                "parameters": [
                    {
                        "description": "Playlist Linking Details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemPlaylistRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/item": {
            "post": {
                "description": "Adds an IdItem to either the inclusions or exclusions of a playlist",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "items"
                ],
                "summary": "Include or Exclude an Item",
                "parameters": [
                    {
                        "description": "Inclusion/Exclusion Details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemInclusionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.InclusionResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/item/undo": {
            "post": {
                "description": "Removes an IdItem from both inclusions and exclusions of a playlist",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "items"
                ],
                "summary": "Undo Include or Exclude",
                "parameters": [
                    {
                        "description": "Item to remove",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemInclusionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.InclusionResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/publish": {
            "post": {
                "description": "Calculates the current tracklist based on inclusions/exclusions and replaces the Spotify playlist content.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Publish a playlist to Spotify",
                "parameters": [
                    {
                        "description": "Playlist Publish Request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistPublishRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "message: Success",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "error: Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "error: Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/publishall": {
            "post": {
                "description": "Calculates the current tracklist based on inclusions/exclusions and replaces the Spotify playlist content.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Publish all playlists to Spotify",
                "responses": {
                    "200": {
                        "description": "message: Success",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "error: Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/{id}": {
            "delete": {
                "description": "Delete a specific playlist by its ID",
                "tags": [
                    "playlist"
                ],
                "summary": "Delete a playlist",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Playlist ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/{id}/exclusions": {
            "get": {
                "description": "Fetches the list of all Artists, Albums, and Tracks manually excluded in a specific playlist.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Get all excluded items for a playlist",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Spotify Playlist ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "error: Invalid ID",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "error: Database error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/{id}/inclusions": {
            "get": {
                "description": "Fetches the list of all Playlists, Artists, Albums, and Tracks manually included in a specific playlist.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Get all included items for a playlist",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Spotify Playlist ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "error: Invalid ID",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "error: Database error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/{id}/playlists": {
            "get": {
                "description": "Responds with the list of all playlists as JSON.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Get all playlists as itemresponse items",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Playlist ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/playlist/{id}/rename": {
            "put": {
                "description": "Updates the display name of a playlist in the local database.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "playlist"
                ],
                "summary": "Rename a playlist",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Spotify Playlist ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "New name for the playlist",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PlaylistCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "message: Success",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "error: Invalid input",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "error: Playlist not found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "error: Database error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/search": {
            "post": {
                "description": "Search Spotify for Artists, Albums, or Tracks based on the provided ItemType.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "search"
                ],
                "summary": "Unified Spotify Search",
                "parameters": [
                    {
                        "description": "Search Query and Item Type",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.SearchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid Item Type",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/spotify/album/tracks": {
            "post": {
                "description": "Fetches all tracks for a specific Spotify album",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "spotify"
                ],
                "summary": "Get Tracks by Album",
                "parameters": [
                    {
                        "description": "Album and Playlist Context",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/spotify/artist/albums": {
            "post": {
                "description": "Fetches albums and singles from Spotify for a specific artist",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "spotify"
                ],
                "summary": "Get Albums by Artist",
                "parameters": [
                    {
                        "description": "Artist and Playlist Context",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ItemRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ItemResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "gin.H": {
            "type": "object",
            "additionalProperties": {}
        },
        "model.InclusionResponse": {
            "type": "object",
            "properties": {
                "included": {
                    "$ref": "#/definitions/model.InclusionType"
                },
                "spotifyID": {
                    "type": "string"
                }
            }
        },
        "model.InclusionType": {
            "type": "integer",
            "enum": [
                0,
                1,
                2,
                3,
                4
            ],
            "x-enum-varnames": [
                "Nothing",
                "Included",
                "Excluded",
                "IncludedByProxy",
                "ExcludedByProxy"
            ]
        },
        "model.ItemInclusionRequest": {
            "type": "object",
            "required": [
                "include",
                "playlistid",
                "spotid",
                "type"
            ],
            "properties": {
                "include": {
                    "type": "boolean"
                },
                "playlistid": {
                    "type": "string"
                },
                "spotid": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/model.ItemType"
                }
            }
        },
        "model.ItemPlaylistRequest": {
            "type": "object",
            "required": [
                "cspotid",
                "pspotid"
            ],
            "properties": {
                "cspotid": {
                    "type": "string"
                },
                "pspotid": {
                    "type": "string"
                }
            }
        },
        "model.ItemRequest": {
            "type": "object",
            "required": [
                "parentid",
                "playlistid",
                "type"
            ],
            "properties": {
                "parentid": {
                    "type": "string"
                },
                "playlistid": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/model.ItemType"
                }
            }
        },
        "model.ItemResponse": {
            "type": "object",
            "properties": {
                "icon": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/spotify.Image"
                    }
                },
                "included": {
                    "$ref": "#/definitions/model.InclusionType"
                },
                "itemType": {
                    "$ref": "#/definitions/model.ItemType"
                },
                "name": {
                    "type": "string"
                },
                "sortdata": {
                    "type": "integer"
                },
                "spotifyID": {
                    "type": "string"
                }
            }
        },
        "model.ItemType": {
            "type": "integer",
            "enum": [
                0,
                1,
                2,
                3
            ],
            "x-enum-varnames": [
                "PlaylistItem",
                "Artist",
                "Album",
                "Track"
            ]
        },
        "model.PlaylistCreateRequest": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "example": "My Playlist"
                }
            }
        },
        "model.PlaylistPublishRequest": {
            "type": "object",
            "properties": {
                "spotifyID": {
                    "type": "string"
                }
            }
        },
        "model.PlaylistResponse": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "spotifyID": {
                    "type": "string"
                }
            }
        },
        "model.SearchRequest": {
            "type": "object",
            "required": [
                "playlistid"
            ],
            "properties": {
                "playlistid": {
                    "type": "string"
                },
                "query": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/model.ItemType"
                }
            }
        },
        "spotify.Image": {
            "type": "object",
            "properties": {
                "height": {
                    "description": "The image height, in pixels.",
                    "type": "integer"
                },
                "url": {
                    "description": "The source URL of the image.",
                    "type": "string"
                },
                "width": {
                    "description": "The image width, in pixels.",
                    "type": "integer"
                }
            }
        }
    },
    "securityDefinitions": {
        "BasicAuth": {
            "type": "basic"
        }
    },
    "externalDocs": {
        "description": "OpenAPI",
        "url": "https://swagger.io/resources/open-api/"
    }
}